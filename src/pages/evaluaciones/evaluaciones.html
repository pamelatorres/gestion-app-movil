<!--
  Generated template for the EvaluacionesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Evaluaciones</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
  <ion-list>
    <ion-item *ngFor="let incidente of incidentes;" no-lines>
      <ion-item-group >
        <ion-item-sliding class="evaluacion-detalle">
          <ion-item padding>
            <p>
              <b>{{incidente.nombre}}</b>
              <br>
              <i>{{incidente.nombre_responsabilidad}}</i>
              <br>
              <i>{{incidente.fecha_incorporacion}}</i>
              <br>
              <i>{{incidente.f_cierre_incidente}}</i>
            </p>
          </ion-item>
          <ion-item-options side="right">
            <button ion-button color="primary" *ngIf="!incidente.total" (click)="evaluarIncidente(incidente.id_incidente, incidente.id_evaluacion)">
              <ion-icon md-name="date_range"></ion-icon>
              Evaluar
            </button>
            <button *ngIf="incidente.total" ion-button color="primary" (click)="editarEvaluacion(incidente.id_incidente, incidente.id_evaluacion,incidente.evaluacion)">
              <ion-icon md-name="mode_edit"></ion-icon>
              Editar
            </button>
            <button *ngIf="incidente.total" ion-button color="secondary" (click)="filalizarEvaluacion(incidente.evaluacion)">
              <ion-icon md-name="close"></ion-icon>
              Finalizar
            </button>
          </ion-item-options>
        </ion-item-sliding>
      </ion-item-group>
      <ion-item-divider *ngIf="incidente.total" color="dark">Nota final: {{incidente.total}}</ion-item-divider>
    </ion-item>
  </ion-list>
</ion-content>
